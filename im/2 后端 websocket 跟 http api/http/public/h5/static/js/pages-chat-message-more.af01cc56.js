(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-message-more"],{"009c":function(t,i,a){var e=a("24dd");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=a("4f06").default;s("e52d3e14",e,!0,{sourceMap:!1,shadowMode:!1})},2346:function(t,i,a){"use strict";var e=a("009c"),s=a.n(e);s.a},2360:function(t,i,a){"use strict";a.d(i,"b",(function(){return s})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){return e}));var e={uniIcons:a("611e").default},s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"page"},[0==t.data.type?a("v-uni-view",{staticClass:"title"},[a("v-uni-view",{staticClass:"title-msg"},[a("v-uni-view",{staticClass:"title_val"},[t._v("会话成员")]),a("v-uni-view",{staticClass:"title_num"},[t._v("共"+t._s(t.data.member.length)+"人")])],1),a("v-uni-view",{staticClass:"title-img"},[a("uni-icons",{staticClass:"uni-icon-wrapper",attrs:{size:22,color:"#c9c9cb",type:"arrowright"}})],1)],1):t._e(),0==t.data.type?a("v-uni-view",{staticClass:"photos"},[t._l(t.data.member,(function(i,e){return a("v-uni-view",{key:e,staticClass:"photo_main",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goDetails(i.user_id)}}},[a("v-uni-image",{staticClass:"photo",staticStyle:{"border-radius":"10px"},attrs:{src:t.photo(i.photo+""),"lazy-load":!0,"data-index":e},on:{erro:function(i){arguments[0]=i=t.$handleEvent(i),t.imageError.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"name_class"},[t._v(t._s(i.show_name))])],1)})),t.data.type?a("v-uni-view",{staticClass:"photo_main",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.add.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"photo",attrs:{src:"../../../static/theme/default/chat/add.png","lazy-load":!0}}),a("v-uni-view",{staticClass:"name_class  msg-size"},[t._v("邀 请")])],1):t._e(),t.data.is_action&&t.data.type?a("v-uni-view",{staticClass:"photo_main",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.reduce.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"photo",attrs:{src:"../../../static/theme/default/chat/reduce.png","lazy-load":!0}}),a("v-uni-view",{staticClass:"name_class  msg-size"},[t._v("移 除")])],1):t._e()],2):t._e(),1==t.data.type?a("v-uni-view",{staticClass:"uni-card"},[a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goSetGroupPhoto.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-media-list uni-list-cell-navigate uni-navigate-right"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("群头像")]),a("v-uni-view",{staticClass:"uni-media-list-logo photo"},[a("v-uni-image",{staticStyle:{"border-radius":"10px"},attrs:{src:t.photo(t.data.group.is_photo+""),"lazy-load":!0}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goSet("name")}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",[a("v-uni-text",{staticClass:"msg-size"},[t._v("群聊昵称")]),a("v-uni-view",{staticClass:"show_text msg-size"},[t._v(t._s(t.data.group.name))])],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.groupCopy.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-media-list uni-list-cell-navigate"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("群ID(点击复制)")]),a("v-uni-view",{staticClass:"uni-media-list-logo qun-id"},[a("v-uni-view",{staticClass:"show_text msg-size",staticStyle:{overflow:"hidden"}},[t._v(t._s(t.replaceStr(t.data.group.id+"")))])],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.groupNickname(t.data.my_nickname)}}},[a("v-uni-view",{staticClass:"uni-media-list uni-list-cell-navigate uni-navigate-right"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("我在本群的昵称")]),a("v-uni-view",{staticClass:"uni-media-list-logo qun-id"},[a("v-uni-view",{staticClass:"show_text msg-size"},[t._v(t._s(t.data.my_nickname))])],1)],1)],1),a("v-uni-view",{staticClass:"list-member-count"}),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goBigRedList.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-media-list uni-list-cell-navigate uni-navigate-right"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("长时间未领取红包")]),a("v-uni-view",{staticClass:"uni-media-list-logo photo_qrcode"})],1)],1),a("v-uni-view",{staticClass:"list-member-count"}),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goGroupQrcode.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-media-list uni-list-cell-navigate uni-navigate-right"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("群二维码")]),a("v-uni-view",{staticClass:"uni-media-list-logo photo_qrcode"},[a("v-uni-image",{attrs:{src:"/static/theme/default/my/qrcode.png","lazy-load":!0}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goSet("notice")}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",{staticClass:"qun-gonggao"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("群公告")]),a("v-uni-view",{staticClass:"show_text_ msg-size"},[t._v(t._s(t.data.group.notice))])],1)],1)],1),t.data.is_action?a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.manarger("notice")}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",{staticClass:"qun-gonggao"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("群管理")]),a("v-uni-view",{staticClass:"show_text_ msg-size"})],1)],1)],1):t._e()],1),a("v-uni-view",{staticClass:"list-member-count"})],1):t._e(),a("v-uni-view",{staticClass:"switch_class"},[a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell uni-list-cell-pd"},[a("v-uni-view",{staticClass:"uni-list-cell-db msg-size"},[t._v("置顶聊天")]),a("v-uni-switch",{attrs:{checked:!!t.data.top},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.msgTop.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"uni-list-cell uni-list-cell-pd"},[a("v-uni-view",{staticClass:"uni-list-cell-db  msg-size"},[t._v("消息免打扰")]),a("v-uni-switch",{attrs:{checked:!!t.data.is_disturb},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.disturb.apply(void 0,arguments)}}})],1),5800!=t.user_id?a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goKefu.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",{staticClass:"qun-gonggao"},[a("v-uni-text",{staticClass:"msg-size"},[t._v("举报")]),a("v-uni-view",{staticClass:"show_text_ msg-size"})],1)],1)],1):t._e(),t._e()],1)],1),1==t.data.type?a("v-uni-view",{staticClass:"list-member-count"},[t._v(t._s(t.data.member.length)+"个群成员")]):t._e(),1==t.data.type?a("v-uni-view",{staticClass:"list-footer"},[a("v-uni-view",{staticClass:"yaoqing-menber",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.add.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"iconfont-im icon-add"}),a("v-uni-view",{staticClass:"yaoqing"},[t._v("邀请群成员")])],1),a("v-uni-view",{staticClass:"member-list"},t._l(t.data.member,(function(i,e){return a("v-uni-view",{key:e,staticClass:"member-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goDetails(i.user_id)}}},[a("v-uni-view",{staticClass:"item-left"},[a("v-uni-view",{staticClass:"item-left-img"},[a("v-uni-image",{staticStyle:{"border-radius":"10px"},attrs:{src:t.photo(i.photo+""),"lazy-load":!0,"data-index":e},on:{erro:function(i){arguments[0]=i=t.$handleEvent(i),t.imageError.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"item-text"},[t._v(t._s(i.show_name))])],1),a("v-uni-view",{staticClass:"item-right"},[a("v-uni-view",{staticClass:"item-right-img"},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:2==i.is_admin,expression:"val.is_admin == 2"}],attrs:{src:"/static/theme/default/qunzhu.png"}}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:1==i.is_admin,expression:"val.is_admin == 1"}],attrs:{src:"/static/theme/default/guanliyuan.png"}})],1),a("v-uni-view",{staticClass:"item-right-text"},[t._v(t._s(1==i.is_online?"在线":"离线"))])],1)],1)})),1)],1):t._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.data.is_action&&1==t.data.type,expression:"!data.is_action && data.type == 1"}],staticClass:"doButton"},[a("v-uni-button",{staticClass:"group-button",attrs:{type:"button"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.liveGroup.apply(void 0,arguments)}}},[t._v("离开群聊")])],1)],1)},n=[]},"24dd":function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".page[data-v-2dbc29fe]{max-width:100%}.photos[data-v-2dbc29fe]{background-color:#fff}.group-button[data-v-2dbc29fe]{width:92%;background-color:#5693ee;color:#fff;height:%?70?%;line-height:%?70?%!important;border-radius:%?40?%;font-size:%?36?%;cursor:pointer;margin-top:%?20?%}.photo_main[data-v-2dbc29fe]{margin:%?7?% 0 0 %?40?%;display:inline-block;text-align:center}.qun-gonggao[data-v-2dbc29fe]{display:flex;justify-content:space-between;width:95%}.photo[data-v-2dbc29fe]{width:%?106?%;height:%?106?%;border-radius:%?7?%}.name_class[data-v-2dbc29fe]{font-size:12px;color:#000;max-width:%?106?%;overflow:hidden;white-space:nowrap}.msg-size[data-v-2dbc29fe]{font-size:16px!important}.title[data-v-2dbc29fe]{background:#fff;padding:10px 20px 10px 23px;border-top:1px solid #e5e5e5;display:flex;justify-content:space-between}.title-msg[data-v-2dbc29fe]{display:flex;justify-content:space-between;align-items:center;width:90%;color:#000!important;font-size:16px!important}.title-img[data-v-2dbc29fe]{display:flex;align-items:center}.title_val[data-v-2dbc29fe]{display:inline-block}.switch_class[data-v-2dbc29fe]{margin-top:%?20?%}.show_text[data-v-2dbc29fe]{position:absolute;right:30px;color:#8f8f94;display:inline-block;\n\t/* width: 320px; */overflow:hidden;height:30px}.photo_qrcode[data-v-2dbc29fe]{width:%?52?%;height:%?52?%;margin-right:%?0?%}.uni-list-cell-navigate.uni-navigate-right[data-v-2dbc29fe]:after{font-size:20px!important}.uni-list-cell[data-v-2dbc29fe]{height:60px!important}.uni-list-cell-pd[data-v-2dbc29fe]{padding:0 10px 0 12px!important}.uni-media-list-logo[data-v-2dbc29fe]{margin-right:0!important}.qun-id[data-v-2dbc29fe]{display:flex;justify-content:center;align-items:center;word-break:break-all}.item-left-img[data-v-2dbc29fe]{display:flex;justify-content:center;align-items:center;padding:0 10px 0 25px}.item-right-img[data-v-2dbc29fe]{display:flex;justify-content:center;align-items:center;margin-right:30px}.item-right-img uni-image[data-v-2dbc29fe]{width:20px;height:20px}.item-left-img uni-image[data-v-2dbc29fe]{width:45px;height:45px;border-radius:10px}.member-list[data-v-2dbc29fe]{display:flex;flex-direction:column;background-color:#fff}.member-item[data-v-2dbc29fe]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:%?20?%;border-top:1px solid #ebebeb}.item-left[data-v-2dbc29fe]{display:flex;flex-direction:row;justify-content:center;align-items:center}.item-right[data-v-2dbc29fe]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 30px 0 20px;color:#435d90}.yaoqing-menber[data-v-2dbc29fe]{display:flex;align-items:center;padding:10px 0 10px 30px;background-color:#fff}.yaoqing[data-v-2dbc29fe]{margin-left:5px}.list-member-count[data-v-2dbc29fe]{padding:5px 0 5px 30px;background-color:#f0eff4}.doButton[data-v-2dbc29fe]{padding:10px}",""]),t.exports=i},4459:function(t,i,a){"use strict";(function(t){var e=a("4ea4");a("a434"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e(a("eefd")),n=e(a("8de9")),o=e(a("e04a")),l=e(a("b516")),c={data:function(){return{data:{member:[],group:{is_photo:"default_group_photo/90.jpg"},is_action:0,type:1},list_id:0,user_id:0}},computed:{staticPhoto:function(){return n.default.staticPhoto()},isAction:function(){return this.data.group.main_id==n.default.data("user_info").id},showKefu:function(){return 5880!=this.my_data.id}},onShow:function(){s.default.routeSonHook();var t=this;t.$httpSend({path:"/im/message/getChatDetails",data:{list_id:t.list_id},success:function(i){t.data=i,1==i.type&&uni.setNavigationBarTitle({title:i.group.name});var a=n.default.data("cache");1!=i.type||"group_photo_"+t.list_id in a||uni.downloadFile({url:n.default.staticPhoto()+i.group.is_photo,success:function(i){200===i.statusCode&&(a["group_photo_"+t.list_id]=i.tempFilePath,n.default.data("cache",a))}})}})},methods:{goKefu:function(){uni.navigateTo({url:"/pages/chat/message?list_id="+n.default.data("kefu_list_id")})},groupNickname:function(i){t.log(i),uni.navigateTo({url:"group_nickname?"+l.default.pageParam({list_id:this.list_id,nickname:i})})},disturb:function(t){var i=t.detail.value?1:0,a=this;this.$httpSend({path:"/im/message/msgDisturb",data:{list_id:this.list_id,value:i},success:function(t){n.default.localData("DISTURB:"+a.list_id,i)}})},liveGroup:function(){var i=this;uni.showModal({title:"重要提示",content:"确定要离开群聊吗?",confirmText:"离开",cancelText:"再看看",confirmColor:"red",cancelColor:"#353535",success:function(a){a.confirm&&i.$httpSend({path:"/im/message/liveGroup",data:{list_id:i.list_id},success:function(i){t.log(i),uni.switchTab({url:"../index"})}})}})},imageError:function(i){t.log("图片加载失败!",i.detail);var a=i.currentTarget.dataset.index;t.log(i.currentTarget.dataset.index),t.log(this.data.member[a].photo),this.data.member[a].photo="/default_photo_path.png"},removeGroup:function(){var t=this;uni.showModal({title:"重要提示",content:"此操作数据不可恢复,确定要解散该群吗?",confirmText:"不解散",cancelText:"解散",confirmColor:"#353535",cancelColor:"red",success:function(i){i.confirm||t.$httpSend({path:"/im/message/removeGroup",data:{list_id:t.list_id},success:function(t){uni.switchTab({url:"../index"})}})}})},photo:function(t){return this.staticPhoto+t+"?_="+Math.random()},msgChange:function(t){var i=t.detail.value?1:0;2==this.data.is_action?this.$httpSend({path:"/im/message/groupIsMsg",data:{list_id:this.list_id,value:i},success:function(t){}}):uni.showModal({content:"没有权限设置",showCancel:!1})},nimingChange:function(t){var i=t.detail.value?1:0;this.data.is_action||2==this.data.is_action?this.$httpSend({path:"/im/message/nimingChange",data:{list_id:this.list_id,value:i},success:function(t){}}):uni.showModal({content:"没有权限设置",showCancel:!1})},msgTop:function(t){var i=this,a=t.detail.value?1:0;this.$httpSend({path:"/im/message/chatTop",data:{list_id:this.list_id,value:a},success:function(t){for(var a=0,e=n.default.localData("chat_list"),s=e.length;a<s;a++)if(e[a].list_id==i.list_id){var o=e[a];e.splice(a,1),e.unshift(o),n.default.localData("chat_list",e),uni.$emit("data_chat_list",e);break}}})},switch1Change:function(t){var i=this,a=t.detail.value?1:0;this.$httpSend({path:"/im/message/speekChecked",data:{list_id:this.list_id,value:a},success:function(t){for(var a=0,e=n.default.localData("chat_list"),s=e.length;a<s;a++)if(e[a].list_id==i.list_id){var o=e[a];e.splice(a,1),e.unshift(o),n.default.localData("chat_list",e),uni.$emit("data_chat_list",e);break}}})},editChange:function(t){var i=t.detail.value?1:0;this.$httpSend({path:"/im/vendor/editChange",data:{list_id:this.list_id,value:i},success:function(t){}})},goGroupQrcode:function(){uni.navigateTo({url:"./group_qrcode?list_id="+this.list_id,animationType:"slide-in-bottom"})},goSetGroupPhoto:function(){2==this.data.is_action||this.data.group.edit_photo?uni.navigateTo({url:"../../set/group_photo?list_id="+this.list_id,animationType:"slide-in-bottom"}):uni.showToast({title:"没有权限设置",icon:"none",duration:1e3})},goSetAdmin:function(i){switch(i){case 1:if(2!=this.data.is_action)return t.log("this.data.is_action",this.data.is_action),void uni.showToast({title:"群主才能设置",icon:"none",duration:1e3});break;case 2:if(2!=this.data.is_action)return void uni.showModal({content:"没有权限设置",showCancel:!1});break;case 3:if(2!=this.data.is_action)return void uni.showModal({content:"没有权限设置",showCancel:!1});break;case 4:if(2!=this.data.is_action)return void uni.showModal({content:"没有权限设置",showCancel:!1});break;default:return}var a="../../set/group_admin?list_id="+this.list_id+"&type="+i;3==i&&(a="../../set/group_trans?list_id="+this.list_id+"&type="+i),4==i&&(a="../../set/copy_group?list_id="+this.list_id+"&type="+i),uni.navigateTo({url:a,animationType:"slide-in-bottom"})},goSet:function(t){2==this.data.is_action||this.data.group.edit_photo?uni.navigateTo({url:"../../set/message_more?list_id="+this.list_id+"&type="+t,animationType:"slide-in-bottom"}):uni.showToast({title:"没有权限设置",icon:"none",duration:1e3})},goDetails:function(t){this.data.type&&2!=this.data.is_action?uni.showToast({title:"没有权限查看",icon:"none",duration:1e3}):uni.navigateTo({url:"../../details/index?user_id="+t+"&type="+this.data.type+"&list_id="+this.list_id+"&is_action="+this.data.is_action})},add:function(){uni.navigateTo({url:"../../friend/index_list?list_id="+this.list_id,animationType:"slide-in-bottom"})},reduce:function(){uni.navigateTo({url:"./reduce?list_id="+this.list_id,animationType:"slide-in-bottom"})},groupCopy:function(t){l.default.uniCopy({content:this.data.group.id,success:function(){uni.showToast({title:"复制成功",duration:2e3})}})},replaceStr:function(i){return t.log(i),i.substr(10)},getRedChange:function(t){var i=t.detail.value?1:0;this.$httpSend({path:"/im/vendor/getRedChange",data:{list_id:this.list_id,value:i},success:function(t){}})},goBigRedList:function(){uni.navigateTo({url:"../message/red_list?list_id="+this.list_id})},manarger:function(){uni.navigateTo({url:"../message/qun_manage?list_id="+this.list_id})},xiaoHui:function(){o.default.xiaoHui({type:this.data.type,list_id:this.list_id},(function(){}))}},onLoad:function(t){this.list_id=t.list_id,this.data.type=t.type}};i.default=c}).call(this,a("5a52")["default"])},"869c":function(t,i,a){"use strict";a.r(i);var e=a("2360"),s=a("8f4c");for(var n in s)"default"!==n&&function(t){a.d(i,t,(function(){return s[t]}))}(n);a("2346");var o,l=a("f0c5"),c=Object(l["a"])(s["default"],e["b"],e["c"],!1,null,"2dbc29fe",null,!1,e["a"],o);i["default"]=c.exports},"8f4c":function(t,i,a){"use strict";a.r(i);var e=a("4459"),s=a.n(e);for(var n in e)"default"!==n&&function(t){a.d(i,t,(function(){return e[t]}))}(n);i["default"]=s.a},eefd:function(t,i,a){"use strict";var e=a("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e(a("e4f8")),n={routeTabBarHook:function(){s.default.routeTool(),s.default.setStatusTips()},routeSonHook:function(){s.default.routeTool()}};i.default=n}}]);